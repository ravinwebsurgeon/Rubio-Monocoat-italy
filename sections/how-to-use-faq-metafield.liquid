<div class="faq-main-container">
  <div class="custom-faq-wrapper">
    <div class="custom-faq-inner">

      <!-- Left Image -->
      <div class="cust-image-faq">
      <div class="custom-faq-image">
        {% if product.metafields.custom.how_to_use_faq_image %}
          <img src="{{ product.metafields.custom.how_to_use_faq_image | img_url: '800x' }}" alt="How to use" loading="lazy">
        {% endif %}
      </div>
      </div>

 <!-- Right FAQ Accordion -->
<div class="cust-faq-content" id="how-to-apply">
  <div class="custom-faq-section">
    {% assign faq_questions = product.metafields.custom.how_to_use_faq_question.value %}
    {% assign faq_answers = product.metafields.custom.how_to_use_faq_answer.value %}

    {% if faq_questions and faq_answers %}
      {% for question in faq_questions %}
        {% assign answer = faq_answers[forloop.index0] %}
        <div class="custom-faq-item {% if forloop.first %}active{% endif %}">
          <button type="button" class="custom-faq-question">
            <h3>{{ question }}</h3>
            <span class="custom-faq-icon">
              <!-- Single Arrow SVG -->
              <svg class="arrow" width="20" height="20" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M6 9l6 6 6-6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
          </button>

          <div class="custom-faq-answer" style="{% if forloop.first %}display:block{% else %}display:none{% endif %}">
            <p>{{ answer }}</p>
          </div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
</div>

    </div>
  </div>
</div>

<style>
.faq-main-container { background: #183029; }
.custom-faq-wrapper { max-width: 1745px; margin: 0 auto; padding: 100px 30px; }
.custom-faq-inner { display: flex; gap: 150px; align-items: center; }
.custom-faq-image img { max-width: 100%; border-radius: 12px; }
.custom-faq-section { flex: 1; }
.custom-faq-item { border-bottom: 1px solid #fff; padding: 10px 0; }
.custom-faq-question { width: 100%; text-align: left; font-weight: bold; background: none; border: none; cursor: pointer; padding: 10px 0; display: flex; justify-content: space-between; align-items: center; color:#fff; }
.custom-faq-icon svg { transition: transform 0.3s ease; }
.arrow-up { display: none; }
.custom-faq-answer { display: none; color:#fff; margin-top: 10px; }
.custom-faq-item h3 {
    margin: 0;
    font-family: Frutiger Neue LT W1G;
    font-weight: 700;
    font-size: 20px;
    line-height: 25px;
    text-align: center;
    color: #183029;
    background-color: #fff;
    padding: 15px 30px;
    border-radius: 50px;
}

@media(max-width: 1900px) { 
  .custom-faq-wrapper {
      max-width: 1745px;
      margin: 0 auto;
      padding: 50px 30px;
  }
  .custom-faq-wrapper .custom-faq-image {
    padding-bottom: 550px;
  }
  .custom-faq-item h3 {
    font-size: 14.5px;
    padding: 12px 22px;
  }
  .custom-faq-wrapper .custom-faq-inner .custom-faq-answer p {
      font-size: 16px;
      line-height: 1.5;
  }
  .custom-faq-wrapper .cust-faq-content {
      padding: 0 0 0 30px;
  }
  .custom-faq-wrapper .custom-faq-inner {
       gap: 20;
  }
}

@media(max-width: 768px) { 
  .custom-faq-inner { 
    flex-direction: column; 
  } 
}



</style>

{% comment %} <script>
$(document).ready(function() {
  $(".custom-faq-question").on("click", function() {
    var $item = $(this).closest(".custom-faq-item");
    var $answer = $item.find(".custom-faq-answer");
    var $downArrow = $item.find(".arrow-down");
    var $upArrow = $item.find(".arrow-up");

    $item.toggleClass("active");
    $answer.slideToggle(300);

    // Toggle arrows
    $downArrow.toggle();
    $upArrow.toggle();
  });
});
</script> {% endcomment %}
<script>
$(document).ready(function() {
  $(".custom-faq-question").on("click", function() {
    var $item = $(this).closest(".custom-faq-item");
    var $answer = $item.find(".custom-faq-answer");
    var $downArrow = $item.find(".arrow-down");
    var $upArrow = $item.find(".arrow-up");

    if ($item.hasClass("active")) {
      // If already open, close it
      $item.removeClass("active");
      $answer.slideUp(300);
      $downArrow.show();
      $upArrow.hide();
    } else {
      // Close all other items first
      $(".custom-faq-item").removeClass("active")
        .find(".custom-faq-answer").slideUp(300);
      $(".arrow-down").show();
      $(".arrow-up").hide();

      // Open the clicked one
      $item.addClass("active");
      $answer.slideDown(300);
      $downArrow.hide();
      $upArrow.show();
    }
  });
});
</script>


{% schema %}
{
  "name": "How To Use FAQ",
  "tag": "section",
  "class": "faq-main-container",
  "presets": [
    {
      "name": "How To Use FAQ",
      "category": "Custom"
    }
  ]
}
{% endschema %}



