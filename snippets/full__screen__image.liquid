<div class="fullscreen-modal-main">
    <div class="fullscreen-modal">
        <img class="fs-img" src="" alt="">
        <video class="fs-video" controls playsinline></video>
    </div>
    <button class="close-fullscreen">Ã—</button>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {

    const modal = document.querySelector('.fullscreen-modal');
    const modalImg = document.querySelector('.fs-img');
    const modalVideo = document.querySelector('.fs-video');
    const closeBtn = document.querySelector('.close-fullscreen');

    // Collect:
    // - all IMAGES not inside video
    // - all VIDEOS
    const imageThumbs = [...document.querySelectorAll('.thumbnail-item img')]
        .filter(img => !img.closest('video'));

    const videoThumbs = [...document.querySelectorAll('.thumbnail-item video')];

    const mainImages = [...document.querySelectorAll('.main-image-item img')];

    const allMedia = [...imageThumbs, ...videoThumbs, ...mainImages];

    // Open modal
    allMedia.forEach(el => {
        el.addEventListener('click', () => {

            // Hide both first
            modalImg.style.display = "none";
            modalVideo.style.display = "none";
            modalVideo.pause();

            if (el.tagName.toLowerCase() === "video") {
                // --- USER CLICKED VIDEO ---
                const source = el.querySelector('source').src;
                modalVideo.src = source;
                modalVideo.style.display = "block";
                modalVideo.play();

            } else {
                // --- USER CLICKED IMAGE ---
                modalImg.src = el.src;
                modalImg.style.display = "block";
            }

            modal.classList.add("active");
        });
    });

    // Close modal
    function closeModal() {
        modal.classList.remove("active");
        modalVideo.pause();
        modalVideo.src = "";
    }

    closeBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", e => {
        if (e.target === modal) closeModal();
    });
});

</script>

<style>
.fullscreen-modal {
    position: fixed; 
    top: 0; left: 0;
    width: 100vw; height: 100vh;

    background: rgba(0,0,0,0.85);
    display: flex;
    justify-content: center;
    align-items: center;

    opacity: 0;
    visibility: hidden;
    pointer-events: none;

    z-index: 9999999;
    transition: opacity .35s ease, visibility .35s ease;
}

.fullscreen-modal.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.fullscreen-modal img {
    max-width: 90vw;
    max-height: 90vh;
    object-fit: contain;

    transform: scale(.8);
    transition: transform .35s ease;
}

.fullscreen-modal.active img {
    transform: scale(1);
}

.fullscreen-modal.closing img {
    transform: scale(0.6);
}

/* Close button */
.close-fullscreen {
    position: absolute;
    top: 20px;
    right: 25px;
    font-size: 40px;
    color: #fff;
    background: none;
    border: none;
    cursor: pointer;
    z-index: 10000000;
}

</style>